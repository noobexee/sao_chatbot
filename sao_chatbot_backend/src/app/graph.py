#Defines the RAG logic. This is where you build your StateGraph and add all the nodes (like rewrite_query, retrieve_docs, generate_answer) and edges.